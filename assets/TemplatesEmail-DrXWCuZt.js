import{j as e}from"./vendor-charts-cvMpHz0W.js";import{r as m}from"./vendor-react-BdB5Pz3t.js";import{u as j,F as C,C as x,g as u,h as y,i as N,n as w,B as t,T as E,G as F}from"./index-IaNwoOYO.js";import{B as k}from"./Badge-CM23X0aP.js";import{M as T}from"./Modal-J_gxoCCM.js";import{A as c,G as A,p as D,bo as g,_,ap as z,I as B,f as I,b as R,T as H,D as q,aq as S,ay as O,a7 as P}from"./vendor-icons-B6Rt7gcW.js";import"./vendor-export-C98UG4Mq.js";import"./vendor-utils-BBD155gO.js";const l=[{id:"alerte_critique",nom:"Alerte Critique",description:"Alertes urgentes n√©cessitant une action imm√©diate",icon:e.jsx(c,{className:"w-5 h-5"}),color:"text-danger",bgColor:"bg-danger/10",exampleData:{titre:"Taux d'occupation critique",message:"Le taux d'occupation du centre est pass√© sous le seuil critique de 70%. Une action imm√©diate est requise pour identifier les causes et mettre en place des mesures correctives.",centre:"Centre Commercial Plateau",date:"11 janvier 2026 √† 14:30",lien:"#",unsubscribe_link:"#"}},{id:"alerte_importante",nom:"Alerte Importante",description:"Alertes importantes avec actions sugg√©r√©es",icon:e.jsx(c,{className:"w-5 h-5"}),color:"text-warning",bgColor:"bg-warning/10",exampleData:{titre:"Retard de paiement d√©tect√©",message:"Le locataire FASHION STORE a un retard de paiement de 15 jours sur son loyer de janvier. Pensez √† effectuer une relance.",centre:"Centre Commercial Cocody",date:"11 janvier 2026 √† 09:00",lien:"#",unsubscribe_link:"#"}},{id:"alerte_info",nom:"Notification Info",description:"Notifications informatives g√©n√©rales",icon:e.jsx(B,{className:"w-5 h-5"}),color:"text-info",bgColor:"bg-info/10",exampleData:{titre:"Nouvelle mise √† jour disponible",message:"Une nouvelle version de Cockpit est disponible avec de nouvelles fonctionnalit√©s. Consultez les notes de version pour plus de d√©tails.",centre:"Global",date:"11 janvier 2026 √† 08:00",lien:"#",unsubscribe_link:"#"}},{id:"digest_hebdomadaire",nom:"Digest Hebdomadaire",description:"R√©sum√© complet de la semaine",icon:e.jsx(I,{className:"w-5 h-5"}),color:"text-primary-600",bgColor:"bg-primary-100",exampleData:{dateDebut:"06 janvier 2026",dateFin:"12 janvier 2026",nbAlertesCritiques:"2",nbAlertesImportantes:"5",nbObjectifsVerts:"8",alertesHtml:`
        <div style="padding: 10px; margin: 5px 0; background: #FEF2F2; border-radius: 4px;">
          üö® Taux d'occupation critique - Centre Plateau
        </div>
        <div style="padding: 10px; margin: 5px 0; background: #FFFBEB; border-radius: 4px;">
          ‚ö†Ô∏è Retard paiement FASHION STORE
        </div>
      `,echeancesHtml:`
        <div style="padding: 10px; margin: 5px 0; background: #F3F4F6; border-radius: 4px;">
          üìÖ Renouvellement bail ORANGE CI - <strong>15/01/2026</strong>
        </div>
        <div style="padding: 10px; margin: 5px 0; background: #F3F4F6; border-radius: 4px;">
          üìÖ Audit s√©curit√© annuel - <strong>20/01/2026</strong>
        </div>
      `,kpisHtml:`
        <div style="display: inline-block; padding: 10px; margin: 5px; background: #D1FAE5; border-radius: 4px; min-width: 120px;">
          <div style="font-size: 12px; color: #6B7280;">Taux occupation</div>
          <div style="font-size: 18px; font-weight: bold; color: #065F46;">92%</div>
        </div>
        <div style="display: inline-block; padding: 10px; margin: 5px; background: #FEF3C7; border-radius: 4px; min-width: 120px;">
          <div style="font-size: 12px; color: #6B7280;">Recouvrement</div>
          <div style="font-size: 18px; font-weight: bold; color: #92400E;">78%</div>
        </div>
      `,lien:"#",unsubscribe_link:"#"}},{id:"rappel_bail",nom:"Rappel Expiration Bail",description:"Rappel avant expiration d'un bail",icon:e.jsx(R,{className:"w-5 h-5"}),color:"text-purple-600",bgColor:"bg-purple-100",exampleData:{locataire:"ORANGE CI",local:"Boutique A-15 (150 m¬≤)",centre:"Centre Commercial Plateau",loyerMensuel:"2 500 000 XOF",dateExpiration:"31 mars 2026",joursRestants:"79",lien:"#",unsubscribe_link:"#"}},{id:"objectif_atteint",nom:"Objectif Atteint",description:"Notification de succ√®s avec c√©l√©bration",icon:e.jsx(H,{className:"w-5 h-5"}),color:"text-success",bgColor:"bg-success/10",exampleData:{axe:"Performance Commerciale",objectif:"Taux d'occupation > 90%",valeur:"92.5%",centre:"Centre Commercial Cocody",progression:"+2.5% vs mois dernier",messageMotivation:"Excellente performance, votre √©quipe fait un travail remarquable !",lien:"#",unsubscribe_link:"#"}},{id:"import_termine",nom:"Import Termin√©",description:"R√©sultat d'import de donn√©es",icon:e.jsx(q,{className:"w-5 h-5"}),color:"text-info",bgColor:"bg-info/10",exampleData:{fichier:"etat_locatif_janvier_2026.xlsx",typeImport:"√âtat Locatif",lignesImportees:"45",lignesErreur:"2",scoreQualite:"95",statutBg:"#D1FAE5",statutColor:"#065F46",statutIcon:"‚úÖ",statutTexte:"Import r√©ussi",erreursColor:"#DC2626",scoreColor:"#059669",scoreGradient:"#059669, #10B981",erreursHtml:`
        <div style="background-color: #FEF2F2; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <p style="margin: 0; color: #991B1B; font-size: 14px;">
            ‚ö†Ô∏è 2 ligne(s) n'ont pas pu √™tre import√©es. Consultez le d√©tail pour corriger les erreurs.
          </p>
        </div>
      `,lien:"#",unsubscribe_link:"#"}},{id:"backup_effectue",nom:"Sauvegarde Effectu√©e",description:"Confirmation de sauvegarde r√©ussie",icon:e.jsx(S,{className:"w-5 h-5"}),color:"text-success",bgColor:"bg-success/10",exampleData:{date:"11 janvier 2026 √† 03:00",nbTables:"24",nbEnregistrements:"15 847",taille:"4.2 Mo",lien:"#",unsubscribe_link:"#"}},{id:"test_bienvenue",nom:"Test / Bienvenue",description:"Email de test de configuration",icon:e.jsx(O,{className:"w-5 h-5"}),color:"text-success",bgColor:"bg-success/10",exampleData:{date:"11 janvier 2026 √† 10:30",email:"directeur@centre-commercial.ci",notificationsActives:`
        <tr><td style="padding: 8px 0; border-bottom: 1px solid #E5E7EB;">
          <span style="color: #059669; font-size: 16px; margin-right: 10px;">‚úÖ</span>
          <span style="color: #065F46; font-size: 14px;">üö® Alertes critiques</span>
        </td></tr>
        <tr><td style="padding: 8px 0; border-bottom: 1px solid #E5E7EB;">
          <span style="color: #059669; font-size: 16px; margin-right: 10px;">‚úÖ</span>
          <span style="color: #065F46; font-size: 14px;">‚ö†Ô∏è Alertes importantes</span>
        </td></tr>
        <tr><td style="padding: 8px 0; border-bottom: 1px solid #E5E7EB;">
          <span style="color: #059669; font-size: 16px; margin-right: 10px;">‚úÖ</span>
          <span style="color: #065F46; font-size: 14px;">üìä Digest hebdomadaire</span>
        </td></tr>
        <tr><td style="padding: 8px 0; border-bottom: 1px solid #E5E7EB;">
          <span style="color: #DC2626; font-size: 16px; margin-right: 10px;">‚ùå</span>
          <span style="color: #6B7280; font-size: 14px;">üì∞ Digest quotidien</span>
        </td></tr>
      `,lien:"#"}},{id:"echeance_action",nom:"√âch√©ance Action",description:"Rappel d'√©ch√©ance d'action",icon:e.jsx(P,{className:"w-5 h-5"}),color:"text-warning",bgColor:"bg-warning/10",exampleData:{titreAction:"Ren√©gociation bail FASHION STORE",description:"Pr√©parer et soumettre la proposition de renouvellement de bail avec les nouvelles conditions tarifaires.",centre:"Centre Commercial Plateau",responsable:"Jean Kouassi",priorite:"Haute",prioriteBg:"#FEF3C7",prioriteColor:"#92400E",dateEcheance:"20 janvier 2026",joursRestants:"9",avancement:"65",lien:"#",unsubscribe_link:"#"}}];function W(){var p;const{addToast:b}=j(),{config:L,isConfigured:v}=C(),[r,n]=m.useState(null),[o,h]=m.useState(null),a=s=>{const i=l.find(f=>f.id===s);return i?F(s,i.exampleData):""},d=s=>{const i=a(s);navigator.clipboard.writeText(i),b({type:"success",title:"HTML copi√©",message:"Le code HTML a √©t√© copi√© dans le presse-papier"})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-primary-900",children:"Templates Email"}),e.jsx("p",{className:"text-primary-500 mt-1",children:"Pr√©visualisez les mod√®les d'emails envoy√©s par Cockpit"})]}),!v&&e.jsx(x,{className:"border-warning/30 bg-warning/5",children:e.jsx(u,{className:"pt-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{className:"w-5 h-5 text-warning"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-primary-900",children:"Configuration requise"}),e.jsxs("p",{className:"text-sm text-primary-500",children:["Configurez EmailJS dans la page ",e.jsx("a",{href:"/notifications",className:"text-info hover:underline",children:"Notifications"})," pour envoyer des emails."]})]})]})})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(s=>e.jsxs(x,{className:"overflow-hidden",children:[e.jsx(y,{className:"pb-3",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${s.bgColor}`,children:e.jsx("span",{className:s.color,children:s.icon})}),e.jsxs("div",{children:[e.jsx(N,{className:"text-base",children:s.nom}),e.jsx(w,{className:"text-xs",children:s.description})]})]})})}),e.jsxs(u,{className:"pt-0",children:[e.jsx("div",{className:"border border-primary-200 rounded-lg overflow-hidden mb-3 cursor-pointer hover:border-primary-400 transition-colors",onClick:()=>n(s.id),style:{height:"120px"},children:e.jsx("div",{className:"transform scale-[0.15] origin-top-left",style:{width:"666%",height:"666%"},children:e.jsx("iframe",{srcDoc:a(s.id),title:s.nom,className:"w-full h-full border-0 pointer-events-none",sandbox:""})})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>h(o===s.id?null:s.id),className:"text-xs text-primary-500 hover:text-primary-700 flex items-center gap-1",children:o===s.id?e.jsxs(e.Fragment,{children:["Variables ",e.jsx(A,{className:"w-3 h-3"})]}):e.jsxs(e.Fragment,{children:["Variables ",e.jsx(D,{className:"w-3 h-3"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>d(s.id),leftIcon:e.jsx(g,{className:"w-3 h-3"}),children:"Copier"}),e.jsx(t,{variant:"secondary",size:"sm",onClick:()=>n(s.id),leftIcon:e.jsx(_,{className:"w-3 h-3"}),children:"Aper√ßu"})]})]}),o===s.id&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-primary-100",children:[e.jsx("p",{className:"text-xs text-primary-500 mb-2",children:"Variables requises:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:E[s.id].map(i=>e.jsx("code",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-0.5 rounded",children:`{{${i}}}`},i))})]})]})]},s.id))}),e.jsx(T,{isOpen:r!==null,onClose:()=>n(null),title:`Aper√ßu: ${((p=l.find(s=>s.id===r))==null?void 0:p.nom)||""}`,size:"xl",children:r&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-primary-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"info",children:"Pr√©visualisation"}),e.jsx("span",{className:"text-sm text-primary-500",children:"Exemple avec donn√©es fictives"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"secondary",size:"sm",onClick:()=>d(r),leftIcon:e.jsx(g,{className:"w-4 h-4"}),children:"Copier HTML"}),e.jsx(t,{variant:"secondary",size:"sm",onClick:()=>{const s=a(r),i=window.open("","_blank");i&&(i.document.write(s),i.document.close())},leftIcon:e.jsx(z,{className:"w-4 h-4"}),children:"Ouvrir"})]})]}),e.jsx("div",{className:"border border-primary-200 rounded-lg overflow-hidden bg-white",children:e.jsx("iframe",{srcDoc:a(r),title:"Email Preview",className:"w-full border-0",style:{height:"600px"},sandbox:""})})]})})]})}export{W as TemplatesEmail};
